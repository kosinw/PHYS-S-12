---
layout: post
title:  "Electronic Output Devices"
permalink: /09/
visible: true
---

## 2019, July 25 (Thursday Section)

### MOSFETs
MOSFETs or metal-oxide-semiconductor field-effect transistors are a type of transistor (specifically an active element controlled through electronics) which allows current to flow from source to ground when an electrical signal is applied to gate. The amount of current allowed through the FET can be altered either using an analog or [PWM]({{ "/02#pwm" | prepend: site.baseurl }}) signal. MOSFETs are very useful for controlling an output device that requires an external (relative to a microcontroller) electrical signal yet still be able to control a state using a micocontroller.

### BJTs
BJTs or bipolar junction transistors are used for lower current applications than MOSFETs and have different internal workings. Functionally, both transistors are used to amplify signals and use three terminals.

### H-Bridges
H-Bridges are a method to control which direction the voltage differential flows across a device such as a DC motor. Internally, the h-bridge uses 4 transistors to control the flow of current through the device and is controlled through a microcontroller to affect the polarity of an output device.

### DC motors
DC motors are a type of active element that converts electrical energy into rotary mechanical energy. The polarity across the leads of the DC motor also control which direction the DC motor will actuate. DC motors work by using a combination of electromagnets (coiled wire that generates magnetic field depending on the direction of current) and magnets. Depending on which way the magnetic field is generated will cause torque to be generated.

### Stepper motors
Stepper motors have moderate power and torque and can be used to turn very precise positions by alternating between stable states to move a set distance.

### Servomotors
Servomotors are motors that can move to an exact programmed position. These range from 0 to &#960; radians. These motors have embedded microcontrollers which allow more precise communication with other microcontrollers. Servomotors generally have low power and cannot be used for applications which need to move great amounts of mass.

### Solenoids
Solenoids, also known as electromagnets, generate an electromagnetic field in response to an electrical current flowing through a coil. This coil can be created through rather rudimentary means such as wrapping wire around a dowel. Even simplistic solenoids require more current than the Arduino can supply so they must be used in conjunction with some sort of transistor.

### Piezoelectric speakers
Piezoelectric buzzers or speakers work in the opposite direction as [piezoelectric sensors]({{"/07#piezoelectricity" | prepend: site.baseurl }}). When an oscillating electrical signal is applied to the piezoelectric material it flexes upwards or downwards and creates a vibration that propagates through air (how sound works). Usually, these buzzers are connected to some sort of audio amplifier to create an audible tone for humans. Thankfully, Arduino's `tone()` function handles the generation of an oscillation signal by using the Arduino's inbuilt crystal oscillator. Music such as the [Super Mario Bros. Themes](https://www.princetronics.com/supermariothemesong/) or the Harry Potter theme can be created:

```cpp
int led_pin = 13;
int buzzer_pin = 11;

struct MusicStruct {
  int A = 550;
  int As = 582;
  int B = 617;
  int C = 654;
  int Cs = 693;
  int D = 734;
  int Ds = 777;
  int E = 824;
  int F = 873;
  int Fs = 925;
  int G = 980;
  int Gs = 1003;
  int A2 = 1100;
  int A2s = 1165;
  int B2 = 1234;
  int C3 = 1308;
  int C3s = 1385;
  int D3 = 1555;
}Music;

struct LengthStruct {
  float half = 0.5;
  float one = 1.0;
  float one_half = 1.5;
  float two = 2.0;
  float two_half = 2.5;
}Length;

int tempo = 400;

void setup() {
  pinMode(led_pin, OUTPUT);
  pinMode(buzzer_pin, OUTPUT);
}

void setTone(int pin, int note, int duration) {
  tone(pin, note, duration);
  delay(duration);
  noTone(pin);
}

void loop() {
  setTone(buzzer_pin, Music.B, tempo * Length.one);
  setTone(buzzer_pin, Music.E, tempo * Length.one_half);
  setTone(buzzer_pin, Music.G, tempo * Length.half);
  setTone(buzzer_pin, Music.F, tempo * Length.one);
  setTone(buzzer_pin, Music.E, tempo * Length.two);
  setTone(buzzer_pin, Music.B2, tempo * Length.one);
  setTone(buzzer_pin, Music.A2, tempo * Length.two_half);
  setTone(buzzer_pin, Music.Fs, tempo * Length.two_half);
  
  setTone(buzzer_pin, Music.E, tempo * Length.one_half);
  setTone(buzzer_pin, Music.G, tempo * Length.half);
  setTone(buzzer_pin, Music.F, tempo * Length.one);
  setTone(buzzer_pin, Music.Ds, tempo * Length.two);
  setTone(buzzer_pin, Music.F, tempo * Length.one);
  setTone(buzzer_pin, Music.B, tempo * Length.two_half);
  delay(500000);
}
```

### LED arrays
Due to the limited amount of pins on development boards such as the Arduino, controlling a large amount of LEDs especially RGB LEDs (which singular ones require 3 differnt PWM pins) becomes impossible. Therefore strips of LEDs have been created which allow the use of many LEDs at one time using libraries such as [Adafruit NeoPixel](https://learn.adafruit.com/adafruit-neopixel-uberguide?embeds=allow). Each LED in the strip is embedded with a small circuit that allows for addressing and control for each individual LED through only 3 lines (V<sub>in</sub>, GND, and V<sub>0</sub>).